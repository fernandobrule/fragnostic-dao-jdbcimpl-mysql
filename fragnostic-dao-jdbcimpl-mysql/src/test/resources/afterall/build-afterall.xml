
<project name="fragnostic dao jdbcimpl mysql" default="usage" basedir=".">

  <description>fragnostic dao jdbcimpl mysql</description>

  <property environment="env" />
  <property file="build-afterall.properties"/>

  <target name="usage">
    <echo>===============================</echo>
    <echo>   Availables targets are:</echo>
    <echo>-------------------------------</echo>
    <echo>$ drop-all --> drop db:'${db.name}' and user:${db.frg.usr}</echo>
    <echo>===============================</echo>
  </target>


   <!-- 
   - DROP ALL
   -->
  <target name="drop-all">
    <tstamp>
      <format property="archive.name" pattern="'${lod.dir}/frg-drop-all.log'" />
    </tstamp>
    <echo>- db.root.url : ${db.root.url}</echo>
    <echo>- db.root.usr : ${db.root.usr}</echo>
    <echo>- db.root.psw : ${db.root.psw}</echo>
    <sql driver="${driver.class}" 
         url="${db.root.url}" 
         userid="${db.root.usr}" 
         password="${db.root.psw}" 
         src="scripts/drop-all.sql" 
         print="yes"
         output="${archive.name}">
      <classpath>
        <pathelement location="${driver.location}"/>
      </classpath>
    </sql>
    <echo>-------------------------------------</echo>
    <echo>SUCCESS: drop db and user done</echo>
    <echo>-------------------------------------</echo>
  </target>


   <!-- 
   - DO ALL
   -->
  <target name="afterall" depends="drop-all">
    <echo>After All Done</echo>
  </target>

</project>
